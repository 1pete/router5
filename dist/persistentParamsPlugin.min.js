!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.persistentParamsPlugin=e()}(this,function(){"use strict";var t=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n=function(n){return Object.keys(n).filter(function(t){return void 0!==n[t]}).reduce(function(r,i){return e({},r,t({},i,n[i]))},{})};return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function i(i){var o=Array.isArray(r)?r.reduce(function(n,r){return e({},n,t({},r,void 0))},{}):r,u=Object.keys(o),a=-1!==i.rootNode.path.indexOf("?"),c=u.join("&"),f=c?(a?"&":"?")+c:"",l=i.rootNode.path.split("?")[0]+f;i.setRootPath(l);var d=i.buildPath,s=i.buildState;return i.buildPath=function(t,r){var u=e({},n(o),r);return d.call(i,t,u)},i.buildState=function(t,r){var u=e({},n(o),r);return s.call(i,t,u)},{onTransitionSuccess:function(t){Object.keys(t.params).filter(function(t){return-1!==u.indexOf(t)}).forEach(function(e){return o[e]=t.params[e]})}}}return i.pluginName="PERSISTENT_PARAMS_PLUGIN",i}});
