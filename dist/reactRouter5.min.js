!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],r):r(e.reactRouter5={},e.React)}(this,function(e,r){"use strict";var t="default"in r?r.default:r;function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e};var i=o,u=function(e){};"production"!==process.env.NODE_ENV&&(u=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")});var a=function(e,r,t,n,o,i,a,s){if(u(r),!e){var c;if(void 0===r)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[t,n,o,i,a,s],f=0;(c=new Error(r.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},s=i;"production"!==process.env.NODE_ENV&&(s=function(e,r){if(void 0===r)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==r.indexOf("Failed Composite propType: ")&&!e){for(var t=arguments.length,n=Array(t>2?t-2:0),o=2;o<t;o++)n[o-2]=arguments[o];(function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,function(){return t[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[r].concat(n))}});var c=s,l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),v=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},y=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)},h=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r};if("production"!==process.env.NODE_ENV)var m=a,b=c,g=l,O={};var R,k=function(e,r,t,n,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(e.hasOwnProperty(i)){var u;try{m("function"==typeof e[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",t,i),u=e[i](r,i,n,t,null,g)}catch(e){u=e}if(b(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",t,i,void 0===u?"undefined":f(u)),u instanceof Error&&!(u.message in O)){O[u.message]=!0;var a=o?o():"";b(!1,"Failed %s type: %s%s",t,u.message,null!=a?a:"")}}},P=function(e,r){var t="function"==typeof Symbol&&Symbol.iterator,n="@@iterator";var o="<<anonymous>>",u={array:v("array"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:d(i.thatReturnsNull),arrayOf:function(e){return d(function(r,t,n,o,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var u=r[t];if(!Array.isArray(u)){var a=h(u);return new p("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<u.length;s++){var c=e(u,s,n,o,i+"["+s+"]",l);if(c instanceof Error)return c}return null})},element:function(){return d(function(r,t,n,o,i){var u=r[t];if(!e(u)){var a=h(u);return new p("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return d(function(r,t,n,i,u){if(!(r[t]instanceof e)){var a=e.name||o,s=function(e){if(!e.constructor||!e.constructor.name)return o;return e.constructor.name}(r[t]);return new p("Invalid "+i+" `"+u+"` of type `"+s+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null})},node:function(){return d(function(e,r,t,n,o){if(!y(e[r]))return new p("Invalid "+n+" `"+o+"` supplied to `"+t+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return d(function(r,t,n,o,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var u=r[t],a=h(u);if("object"!==a)return new p("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in u)if(u.hasOwnProperty(s)){var c=e(u,s,n,o,i+"."+s,l);if(c instanceof Error)return c}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&c(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull;return d(function(r,t,n,o,i){for(var u=r[t],a=0;a<e.length;a++)if(s(u,e[a]))return null;var c=JSON.stringify(e);return new p("Invalid "+o+" `"+i+"` of value `"+u+"` supplied to `"+n+"`, expected one of "+c+".")})},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&c(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull;for(var r=0;r<e.length;r++){var t=e[r];if("function"!=typeof t)return c(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",b(t),r),i.thatReturnsNull}return d(function(r,t,n,o,i){for(var u=0;u<e.length;u++){var a=e[u];if(null==a(r,t,n,o,i,l))return null}return new p("Invalid "+o+" `"+i+"` supplied to `"+n+"`.")})},shape:function(e){return d(function(r,t,n,o,i){var u=r[t],a=h(u);if("object"!==a)return new p("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in e){var c=e[s];if(c){var f=c(u,s,n,o,i+"."+s,l);if(f)return f}}return null})}};function s(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function p(e){this.message=e,this.stack=""}function d(e){if("production"!==process.env.NODE_ENV)var t={},n=0;function i(i,u,s,f,d,v,y){if(f=f||o,v=v||s,y!==l)if(r)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var h=f+":"+s;!t[h]&&n<3&&(c(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",v,f),t[h]=!0,n++)}return null==u[s]?i?null===u[s]?new p("The "+d+" `"+v+"` is marked as required in `"+f+"`, but its value is `null`."):new p("The "+d+" `"+v+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(u,s,f,d,v)}var u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function v(e){return d(function(r,t,n,o,i,u){var a=r[t];return h(a)!==e?new p("Invalid "+o+" `"+i+"` of type `"+m(a)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function y(r){switch(void 0===r?"undefined":f(r)){case"number":case"string":case"undefined":return!0;case"boolean":return!r;case"object":if(Array.isArray(r))return r.every(y);if(null===r||e(r))return!0;var o=function(e){var r=e&&(t&&e[t]||e[n]);if("function"==typeof r)return r}(r);if(!o)return!1;var i,u=o.call(r);if(o!==r.entries){for(;!(i=u.next()).done;)if(!y(i.value))return!1}else for(;!(i=u.next()).done;){var a=i.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function h(e){var r=void 0===e?"undefined":f(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,r){return"symbol"===e||"Symbol"===r["@@toStringTag"]||"function"==typeof Symbol&&r instanceof Symbol}(r,e)?"symbol":r}function m(e){if(void 0===e||null===e)return""+e;var r=h(e);if("object"===r){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return r}function b(e){var r=m(e);switch(r){case"array":case"object":return"an "+r;case"boolean":case"date":case"regexp":return"a "+r;default:return r}}return p.prototype=Error.prototype,u.checkPropTypes=k,u.PropTypes=u,u},N=(function(e){if("production"!==process.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=P(function(e){return"object"===(void 0===e?"undefined":f(e))&&null!==e&&e.$$typeof===r},!0)}else e.exports=function(){function e(e,r,t,n,o,i){i!==l&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r};return t.checkPropTypes=i,t.PropTypes=t,t}()}(R={exports:{}},R.exports),R.exports),_=function(e){function r(e,t){p(this,r);var n=h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.router=t.router,n.router.hasPlugin("BROWSER_PLUGIN")||console.error("[react-router5][BaseLink] missing browser plugin, href might be built incorrectly"),n.isActive=n.isActive.bind(n),n.clickHandler=n.clickHandler.bind(n),n.callback=n.callback.bind(n),n.state={active:n.isActive()},n}return y(r,e),d(r,[{key:"buildUrl",value:function(e,r){return this.router.buildUrl?this.router.buildUrl(e,r):this.router.buildPath(e,r)}},{key:"isActive",value:function(){return this.router.isActive(this.props.routeName,this.props.routeParams,this.props.activeStrict,this.props.ignoreQueryParams)}},{key:"callback",value:function(e,r){!e&&this.props.successCallback&&this.props.successCallback(r),e&&this.props.errorCallback&&this.props.errorCallback(e)}},{key:"clickHandler",value:function(e){if(!this.props.onClick||(this.props.onClick(e),!e.defaultPrevented)){var r=e.metaKey||e.altKey||e.ctrlKey||e.shiftKey;0!==e.button||r||(e.preventDefault(),this.router.navigate(this.props.routeName,this.props.routeParams,this.props.routeOptions,this.callback))}}},{key:"render",value:function(){var e=this.props,r=e.routeName,n=e.routeParams,o=(e.routeOptions,e.className),i=e.activeClassName,u=(e.activeStrict,e.ignoreQueryParams,e.route,e.previousRoute,e.router,e.children),a=(e.onClick,e.successCallback,e.errorCallback,function(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(e,["routeName","routeParams","routeOptions","className","activeClassName","activeStrict","ignoreQueryParams","route","previousRoute","router","children","onClick","successCallback","errorCallback"])),s=this.isActive(),c=this.buildUrl(r,n),l=(s?[i]:[]).concat(o?o.split(" "):[]).join(" ");return t.createElement("a",v({},a,{href:c,className:l,onClick:this.clickHandler}),u)}}]),r}(r.Component);_.contextTypes={router:N.object.isRequired},_.propTypes={routeName:N.string.isRequired,routeParams:N.object,routeOptions:N.object,activeClassName:N.string,activeStrict:N.bool,ignoreQueryParams:N.bool,onClick:N.func,onMouseOver:N.func,successCallback:N.func,errorCallback:N.func},_.defaultProps={activeClassName:"active",activeStrict:!1,ignoreQueryParams:!0,routeParams:{},routeOptions:{}};var j=function(e){return e.displayName||e.name||"Component"},w="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(e){return void 0===e?"undefined":f(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":f(e)};function C(e){return e.split(".").reduce(function(e,r){return e.concat(e.length?e[e.length-1]+"."+r:r)},[])}function E(e){return e&&e.meta&&e.meta.params}function T(e,r){return void 0===(t=r.meta.params[e])||null===t?{}:Object.keys(r.meta.params[e]).reduce(function(e,t){return e[t]=r.params[t],e},{});var t}function x(e){return function(r,t){var n=function(e,r){var t=r?C(r.name):[],n=C(e.name),o=Math.min(t.length,n.length),i=void 0;i=r&&(E(r)||E(e))?function(){var i=void 0,u=function(){var o=t[i],u=n[i];if(o!==u)return{v:i};var a=T(o,e),s=T(u,r);return a.length!==s.length?{v:i}:0===a.length?"continue":Object.keys(a).some(function(e){return s[e]!==a[e]})?{v:i}:void 0};for(i=0;i<o;i+=1){var a=u();switch(a){case"continue":continue;default:if("object"===(void 0===a?"undefined":w(a)))return a.v}}return i}():0;var u=t.slice(i).reverse(),a=n.slice(i);return{intersection:r&&i>0?t[i-1]:"",toDeactivate:u,toActivate:a}}(r,t),o=n.intersection,i=n.toActivate,u=n.toDeactivate,a=[].concat(function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(u)).reverse();if(e===o)return!0;if(-1===i.indexOf(e))return!1;for(var s=!0,c=0;c<i.length;c+=1){var l=i[c];if((s=l===a[c])&&l===e)return!0;if(!s)return!1}return!1}}var S=function(e){function t(e,r){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.router=e.router,n}return y(t,e),d(t,[{key:"getChildContext",value:function(){return{router:this.router}}},{key:"componentWillReceiveProps",value:function(e){this.props.router!==e.router&&console.error("[react-router5][RouterProvider] does not support changing the router object.")}},{key:"render",value:function(){var e=this.props.children;return r.Children.only(e)}}]),t}(r.Component);function A(e){var t=function(t){function n(e,r){p(this,n);var t=h(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,r));return t.router=r.router,t.state={previousRoute:null,route:t.router.getState()},t}return y(n,t),d(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.router.subscribe(function(r){var t=r.route,n=r.previousRoute;e.setState({route:t,previousRoute:n})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return r.createElement(e,v({},this.props,this.state,{router:this.router}))}}]),n}(r.Component);return t.contextTypes={router:N.object.isRequired},t.displayName="WithRoute["+j(e)+"]",t}S.propTypes={router:N.object.isRequired,children:N.element.isRequired},S.childContextTypes={router:N.object.isRequired};var q=(t.createContext||function(){return{Provider:function(e){return e.children},Consumer:function(){return null}}})({}),D=q.Provider,I=q.Consumer,U=function(e){function r(e){p(this,r);var t=h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e)),n=e.router;return t.router=n,t.state={route:n.getState(),previousRoute:null,router:n},t}return y(r,e),d(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.router.subscribe(function(r){var t=r.route,n=r.previousRoute;e.setState({route:t,previousRoute:n})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"getChildContext",value:function(){return{router:this.props.router}}},{key:"render",value:function(){return t.createElement(D,{value:this.state},this.props.children)}}]),r}(t.PureComponent);U.childContextTypes={router:N.object.isRequired},U.propTypes={router:N.object.isRequired,children:N.node.isRequired};var V=function(e){function r(e,t){p(this,r);var n=h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.renderOnRouteNodeChange=n.renderOnRouteNodeChange.bind(n),n}return y(r,e),d(r,[{key:"renderOnRouteNodeChange",value:function(e){var r=x(this.props.nodeName)(e.route,e.previousRoute);return this.memoizedResult&&!r||(this.memoizedResult=this.props.children(e)),this.memoizedResult}},{key:"render",value:function(){return t.createElement(I,null,this.renderOnRouteNodeChange)}}]),r}(t.Component);V.propTypes={nodeName:N.string.isRequired,children:N.func.isRequired};var W=A(_);e.BaseLink=_,e.routeNode=function(e){return function(t){var n=function(n){function o(e,r){p(this,o);var t=h(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,r));return t.router=r.router,t.state={previousRoute:null,route:t.router.getState()},t}return y(o,n),d(o,[{key:"componentDidMount",value:function(){var r=this;this.unsubscribe=this.router.subscribe(function(t){var n=t.route,o=t.previousRoute;x(e)(n,o)&&r.setState({previousRoute:o,route:n})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props,n=this.router,o=this.state,i=o.previousRoute,u=o.route;return r.createElement(t,v({},e,{router:n,previousRoute:i,route:u}))}}]),o}(r.Component);return n.contextTypes={router:N.object.isRequired},n.displayName="RouteNode["+j(t)+"]",n}},e.RouterProvider=S,e.withRoute=A,e.Link=W,e.RouteProvider=U,e.Route=I,e.RouteNode=V,Object.defineProperty(e,"__esModule",{value:!0})});
