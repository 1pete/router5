!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.reactRouter5=e.reactRouter5||{},e.React)}(this,function(e,t){"use strict";function r(e){return function(){return e}}function n(e,t,r,n,o,i,u,a){if(l(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,u,a],p=0;s=new Error(t.replace(/%s/g,function(){return c[p++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function o(e,t,r,n,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(e.hasOwnProperty(i)){var u;try{R("function"==typeof e[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",r,i),u=e[i](t,i,n,r,null,N)}catch(e){u=e}if(E(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",r,i,void 0===u?"undefined":v(u)),u instanceof Error&&!(u.message in P)){P[u.message]=!0;var a=o?o():"";E(!1,"Failed %s type: %s%s",r,u.message,null!=a?a:"")}}}function i(e){return function(r){var n=function(n){function o(e,t){h(this,o);var r=O(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));return r.router=t.router,r.state={previousRoute:null,route:r.router.getState()},r}return g(o,n),m(o,[{key:"componentDidMount",value:function(){var t=this;S(this.router.hasPlugin("LISTENERS_PLUGIN"),"[react-router5][routeNode] missing listeners plugin"),this.nodeListener=function(e,r){return t.setState({previousRoute:r,route:e})},this.router.addNodeListener(e,this.nodeListener)}},{key:"componentWillUnmout",value:function(){this.router.removeNodeListener(e,this.nodeListener)}},{key:"render",value:function(){var e=this.props,n=this.router,o=this.state,i=o.previousRoute,u=o.route;return t.createElement(r,b({},e,{router:n,previousRoute:i,route:u}))}}]),o}(t.Component);return n.contextTypes={router:T.object.isRequired},n.displayName="RouteNode["+x(r)+"]",n}}function u(e){var r=function(r){function n(e,t){h(this,n);var r=O(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.router=t.router,r.state={previousRoute:null,route:r.router.getState()},r.listener=r.listener.bind(r),r}return g(n,r),m(n,[{key:"componentDidMount",value:function(){var e=this;S(this.router.hasPlugin("LISTENERS_PLUGIN"),"[react-router5][withRoute] missing listeners plugin"),this.listener=function(t,r){return e.setState({previousRoute:r,route:t})},this.router.addListener(this.listener)}},{key:"componentWillUnmount",value:function(){this.router.removeListener(this.listener)}},{key:"listener",value:function(e,t){this.setState({previousRoute:t,route:e})}},{key:"render",value:function(){return S(!this.props.router&&!this.props.route&&!this.props.previousRoute,"[react-router5] prop names `router`, `route` and `previousRoute` are reserved."),t.createElement(e,b({},this.props,this.state,{router:this.router}))}}]),n}(t.Component);return r.contextTypes={router:T.object.isRequired},r.displayName="WithRoute["+x(e)+"]",r}var a="default"in t?t.default:t,s=function(){};s.thatReturns=r,s.thatReturnsFalse=r(!1),s.thatReturnsTrue=r(!0),s.thatReturnsNull=r(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e};var c=s,l=function(e){};"production"!==process.env.NODE_ENV&&(l=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")});var p=n,f=c;"production"!==process.env.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,function(){return r[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}};f=function(t,r){if(void 0===r)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==r.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];e.apply(void 0,[r].concat(o))}}}();var d=f,y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};if("production"!==process.env.NODE_ENV)var R=p,E=d,N=y,P={};var w=o,_=function(e,t){function r(e){var t=e&&(P&&e[P]||e[_]);if("function"==typeof t)return t}function n(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function i(e){function r(r,u,a,s,c,l,f){if(s=s||k,l=l||a,f!==y)if(t)p(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var v=s+":"+a;!n[v]&&i<3&&(d(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",l,s),n[v]=!0,i++)}return null==u[a]?r?new o(null===u[a]?"The "+c+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+c+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(u,a,s,c,l)}if("production"!==process.env.NODE_ENV)var n={},i=0;var u=r.bind(null,!1);return u.isRequired=r.bind(null,!0),u}function u(e){function t(t,r,n,i,u,a){var s=t[r];if(O(s)!==e)return new o("Invalid "+i+" `"+u+"` of type `"+R(s)+"` supplied to `"+n+"`, expected `"+e+"`.");return null}return i(t)}function a(e){function t(t,r,n,i,u){if("function"!=typeof e)return new o("Property `"+u+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=t[r];if(!Array.isArray(a)){return new o("Invalid "+i+" `"+u+"` of type `"+O(a)+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<a.length;s++){var c=e(a,s,n,i,u+"["+s+"]",y);if(c instanceof Error)return c}return null}return i(t)}function s(e){function t(t,r,n,i,u){if(!(t[r]instanceof e)){var a=e.name||k;return new o("Invalid "+i+" `"+u+"` of type `"+N(t[r])+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null}return i(t)}function l(e){function t(t,r,i,u,a){for(var s=t[r],c=0;c<e.length;c++)if(n(s,e[c]))return null;return new o("Invalid "+u+" `"+a+"` of value `"+s+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?i(t):("production"!==process.env.NODE_ENV&&d(!1,"Invalid argument supplied to oneOf, expected an instance of array."),c.thatReturnsNull)}function f(e){function t(t,r,n,i,u){if("function"!=typeof e)return new o("Property `"+u+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=t[r],s=O(a);if("object"!==s)return new o("Invalid "+i+" `"+u+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,n,i,u+"."+c,y);if(l instanceof Error)return l}return null}return i(t)}function h(e){function t(t,r,n,i,u){for(var a=0;a<e.length;a++){if(null==(0,e[a])(t,r,n,i,u,y))return null}return new o("Invalid "+i+" `"+u+"` supplied to `"+n+"`.")}if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&d(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),c.thatReturnsNull;for(var r=0;r<e.length;r++){var n=e[r];if("function"!=typeof n)return d(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",E(n),r),c.thatReturnsNull}return i(t)}function m(e){function t(t,r,n,i,u){var a=t[r],s=O(a);if("object"!==s)return new o("Invalid "+i+" `"+u+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var p=l(a,c,n,i,u+"."+c,y);if(p)return p}}return null}return i(t)}function b(t){switch(void 0===t?"undefined":v(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(b);if(null===t||e(t))return!0;var n=r(t);if(!n)return!1;var o,i=n.call(t);if(n!==t.entries){for(;!(o=i.next()).done;)if(!b(o.value))return!1}else for(;!(o=i.next()).done;){var u=o.value;if(u&&!b(u[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function O(e){var t=void 0===e?"undefined":v(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function R(e){if(void 0===e||null===e)return""+e;var t=O(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=R(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function N(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var P="function"==typeof Symbol&&Symbol.iterator,_="@@iterator",k="<<anonymous>>",T={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:function(){return i(c.thatReturnsNull)}(),arrayOf:a,element:function(){function t(t,r,n,i,u){var a=t[r];if(!e(a)){return new o("Invalid "+i+" `"+u+"` of type `"+O(a)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return i(t)}(),instanceOf:s,node:function(){function e(e,t,r,n,i){return b(e[t])?null:new o("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.")}return i(e)}(),objectOf:f,oneOf:l,oneOfType:h,shape:m};return o.prototype=Error.prototype,T.checkPropTypes=w,T.PropTypes=T,T},k=function(){function e(e,t,r,n,o,i){i!==y&&p(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=c,r.PropTypes=r,r},T=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){if("production"!==process.env.NODE_ENV){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"===(void 0===e?"undefined":v(e))&&null!==e&&e.$$typeof===t};e.exports=_(r,!0)}else e.exports=k()}),j=function(e){function t(e,r){h(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.router=r.router,n.router.hasPlugin("BROWSER_PLUGIN")||console.error("[react-router5][BaseLink] missing browser plugin, href might be build incorrectly"),n.isActive=n.isActive.bind(n),n.clickHandler=n.clickHandler.bind(n),n.state={active:n.isActive()},n}return g(t,e),m(t,[{key:"buildUrl",value:function(e,t){return this.router.buildUrl?this.router.buildUrl(e,t):this.router.buildPath(e,t)}},{key:"isActive",value:function(){return this.router.isActive(this.props.routeName,this.props.routeParams,this.props.activeStrict)}},{key:"clickHandler",value:function(e){if(!this.props.onClick||(this.props.onClick(e),!e.defaultPrevented)){var t=e.metaKey||e.altKey||e.ctrlKey||e.shiftKey;0!==e.button||t||(e.preventDefault(),this.router.navigate(this.props.routeName,this.props.routeParams,this.props.routeOptions))}}},{key:"render",value:function(){var e=this.props,t=e.routeName,r=e.routeParams,n=e.className,o=e.activeClassName,i=e.children,u=e.title,s=e.onMouseOver,c=this.isActive(),l=this.buildUrl(t,r),p=(n?n.split(" "):[]).concat(c?[o]:[]).join(" ");return a.createElement("a",{href:l,className:p,onClick:this.clickHandler,onMouseOver:s,title:u},i)}}]),t}(t.Component);j.contextTypes={router:T.object.isRequired},j.propTypes={routeName:T.string.isRequired,routeParams:T.object,routeOptions:T.object,activeClassName:T.string,activeStrict:T.bool,onClick:T.func,onMouseOver:T.func},j.defaultProps={activeClassName:"active",activeStrict:!1,routeParams:{},routeOptions:{}};var x=function(e){return e.displayName||e.name||"Component"},S=function(e,t){if(!e)throw new Error(t)},C=function(e){function r(e,t){h(this,r);var n=O(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.router=e.router,n}return g(r,e),m(r,[{key:"getChildContext",value:function(){return{router:this.router}}},{key:"componentWillReceiveProps",value:function(e){this.props.router!==e.router&&console.error("[react-router5][RouterProvider] does not support changing the router object.")}},{key:"render",value:function(){var e=this.props.children;return t.Children.only(e)}}]),r}(t.Component);C.propTypes={router:T.object.isRequired,children:T.element.isRequired},C.childContextTypes={router:T.object.isRequired};var I=u(j);e.BaseLink=j,e.routeNode=i,e.RouterProvider=C,e.withRoute=u,e.Link=I,Object.defineProperty(e,"__esModule",{value:!0})});
